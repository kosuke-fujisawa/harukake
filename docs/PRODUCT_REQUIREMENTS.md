# ハルカケ｜プロダクト要件定義書

このドキュメントは、アプリ「ハルカケ」の機能要件、リリーススコープ、収益モデルを定義します。

## 1. 機能要件（MVP）

### 1.1 記録・固定費
- **カテゴリ**: 食費/日用品/交通/娯楽/通信/光熱/家賃/その他
- **固定費自動登録**: 家賃/光熱/通信は当月初回起動時に生成
- **報酬**: 入力1件=+5XP、+1ジュエル（1日上限3）

### 1.2 コメントエンジン（推測型）
- **ルール**: カテゴリ × 金額帯(low/med/high) × 前月比(増/減/据置)
- **禁止事項**: 断定・説教。「駅近かな？」「新サービス契約した？」等の推測口調を徹底。
- キャラクターの性格で言い回しのみ変更（内容は同義）

### 1.3 進行・報酬
- **レベル**: 必要XP `50 + (L-1)*10`（上限100）
- **ジュエル**: ログイン+1/日、記録+1（上限あり）
- **メインストーリー解放**: Lv1, 5, 10（MVP）
- **サイドストーリー解放**: ジュエル3, 5（各キャラ2話）

### 1.4 データ入出力
- **エクスポート**: `harukake-YYYYMMDD.json`
- **インポート**: 上書き（確認ダイアログ）。失敗時はロールバック。
- **引き継ぎ**: 端末交換時は手動インポートのみ（MVP）。

### 1.5 オーディオ
- **ホームBGM**: ローファイ/軽ジャズ（1曲ループ）
- **SE**: 保存・ミッション達成・LvUP（短く耳疲れしない音）
- **設定**: BGM/SE個別ON/OFF

## 2. リリース計画（MVP）

### 2.1 スコープ内
- 立ち絵5人（差分表情）
- 背景CG1〜2枚
- メイン3章／サイド各2話（テキスト）
- BGM1曲／SE3音
- JSONバックアップ/リストア

### 2.2 スコープ外
- アカウント/クラウド同期
- レシートOCR
- 金融機関との自動連携
- キャラクターボイス
- Live2D
- イベント機能

## 3. 収益と導線
- アプリ内での広告・課金は一切なし。
- 設定＞クレジットに支援リンクと**グッズ（エコバッグ）**のみを設置する。
- 支援は“感謝ベース”の文言を明記し、押し出さない。

## 4. リスクと対策
- **横固定の操作性**: 入力が遠い → 右下に“記録”ボタンを固定配置＋独自テンキーを検討。
- **BGMが邪魔**: ワンタップミュートを常設し、初回チュートリアルで案内。
- **データ消失**: 初回起動時にバックアップ案内を一度だけ表示。
- **物語量不足**: 数値へのリアクションで“日々の変化”を補い、飽きさせない工夫を凝らす。
