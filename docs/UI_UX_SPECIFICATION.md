# ハルカケ｜UI/UX仕様書

このドキュメントは、アプリ「ハルカケ」の画面設計、UIコンポーネント、ユーザー体験に関する仕様を定義します。

## 1. 情報設計（IA）と画面構成

### 1.1 ホーム（横固定／ブルアカ準拠）
- **背景CG**: 時間帯・章で差分
- **立ち絵**: 今週のフォーカスキャラ
- **上帯**: Lv / 今月支出 / 今月貯蓄 / 入力日数 / ジュエル
- **左列**: メッセージ／ミッション／Tips（縦ボタン＋バッジ）
- **右上**: ハンバーガー（設定/クレジット/データ入出力/支援）
- **下帯**: 記録｜分析｜ストーリー｜アーカイブ（履歴）

### 1.2 記録（シート）
- 日付 / カテゴリ / 金額 / メモ → 保存
- 保存直後、コメント吹き出しが2秒表示
- 当月履歴の簡易リスト（編集は後回し）

### 1.3 分析（シート）
- 当月カテゴリ合計（Charts）
- 前月比・固定費の一言比較（推測口調）
- 合計・貯蓄・黒字/赤字表示

### 1.4 ストーリー（シート）
- メイン章：Lv到達で解放
- サイド：ジュエル消費で解放
- 既読管理・再読可。テキスト主体（ボイスなし）

### 1.5 設定（ハンバーガー）
- プロフィール（ニックネーム）
- データ：JSONエクスポート/インポート
- 表示：背景CG切替/アニメ軽量化/BGM・SE
- クレジット：スタッフ・イラストレーター・支援/グッズ・問い合わせ
- 規約/プライバシー

## 2. ホーム画面CG固定表示機能

### 2.1 概要
アプリ起動時に横画面固定のホーム画面を表示し、常時背景にフルスクリーンCGを配置する。ブルーアーカイブやバンドリ等のUI構造を参考に、主要導線を背景上にオーバーレイ表示する。

### 2.2 UIレイヤー構成
```
ZStack
 ├─ 背景CG（CGBackgroundView）
 ├─ キャラクター立ち絵（固定PNG／将来Live2D）
 ├─ 上帯ステータス（Lv / 今月支出 / 貯金額 / Jewel数）
 ├─ 左ショートカット（メッセージ / ミッション / Tips）
 ├─ 右上ユーティリティ（ハンバーガーメニュー / 設定 / ヘルプ）
 ├─ コメント吹き出し（記録時などにオーバーレイ表示）
 └─ 下部メニューバー（記録 / 分析 / ストーリー / 設定）
```

### 2.3 CG表示詳細
- **デフォルト画像**: `cg_home_default`（Asset Catalogに登録）
- **差し替えパターン**: 時間帯（昼/夜）、章進行（chapter1/chapter2）
- **管理**: `CGBackgroundController`が差し替え条件を管理
- **メモリ**: 現行1枚のみ保持。差し替え時は0.25秒フェード

## 3. CG・UIレイアウト仕様
- **比率**: 16:9基準、最低1920×1080（ @3x前提）
- **レイアウト**: 上帯64pt、下帯72pt、左列ボタン56pt、タップ領域>=44pt
- **可読性**: 文字は白系＋1pxアウトライン or 上下グラデーションで確保
- **構図**: iPhone mini/Pro Max/iPadの横画面で主要被写体が切れない中央〜右寄せ構図

## 4. BGM/SE設計（MVP）
- **ホームBGM**: 1曲（2〜3分ループ耐性）。ローファイor軽ジャズ。
- **SE**:
    - 記録保存: 「コトッ」
    - ミッション達成: 「チャリン」
    - レベルアップ: 「ポワン」
- **音量**: BGM -18〜-20 LUFS目安、SEはBGM比+4〜6dB。
- **設定**: BGM/SE個別トグル。上帯から長押しでミュート切替も検討。

## 5. コメント文体ガイド（付録）
- **基本方針**: 断定・説教・嘲笑は禁止。必ず問いかけ or 推測で止める。
- **家賃**:
    - 増: 「更新料…？ それとも駅近に移った？」
    - 減: 「お、下がってる。交渉したとか？」
    - 据置: 「変わらないの安心かも」
- **光熱**:
    - 増: 「暖房フル稼働？ 冬は仕方ないよね」
    - 減: 「省エネ何か始めた？」
- **通信**:
    - 増: 「新しいサブスク入ってたり？」
    - 減: 「プラン見直したのかな」
